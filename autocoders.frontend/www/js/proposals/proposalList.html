<ion-view view-title="Browse Offers">
    <ion-content>
        <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()">
        </ion-refresher>

        <div class="list">

            <div class="item item-dark ac-customer-offers" ng-show="customerAccountKey">
                <div class="row">
                    <div class="col col-67 ac-left ac-customer-name">
                        <span class="">Offers for: </span>
                        <span class="ac-vehicle-detail-value">{{customerAccountKey}}</span>
                    </div>
                    <div class="col col-33 ac-right">
                        <button class="button button-balanced button-small" ng-click="showAll()">
                            SHOW ALL
                        </button>
                    </div>
                </div>
            </div>

            <a class="item item-thumbnail-left ac-browse-proposal-list" href="#" ng-repeat="proposal in proposals" ng-click="setSelectedProposal(proposal)">
                <img class="ac-browse-vehicle-img" ng-src="{{proposal.vehicle.imageUrl[0]}}">
                <h2>{{proposal.vehicle.year}} {{proposal.vehicle.make}} {{proposal.vehicle.model}} {{proposal.vehicle.trim}}</h2>

                <div class="row ac-browse-vehicle-row">
                    <div class="col col-67 ac-left">{{proposal.vehicle.vin}}</div>
                    <div class="col col-33 ac-right">#{{proposal.vehicle.stockNum}}</div>
                </div>
                <div class="row ac-browse-vehicle-row">
                    <div class="col col-50 ac-left ac-vehicle-detail-value">
                        <span class="secondary-text-color">MSRP: </span>
                        {{proposal.vehicle.featPrice | currency : '$' : 0}}
                    </div>
                    <div class="col col-50 ac-right ac-vehicle-detail-value">
                        <span class="secondary-text-color">Offer: </span>
                        {{proposal.buyerquote.offerPrice | currency : '$' : 0}}
                    </div>

                </div>

                <div class="row ac-browse-vehicle-row ac-browse-proposal-buyer">
                    <div class="col ac-left">{{proposal.buyer.name}}</div>
                    <div class="col ac-right balanced" ng-show="proposal.status === 'Accepted'">{{proposal.status}}</div>
                    <div class="col ac-right positive" ng-show="proposal.status === 'Negotiating'">{{proposal.status}}</div>
                    <div class="col ac-right assertive" ng-show="proposal.status === 'Rejected'">{{proposal.status}}</div>
                </div>

                <div class="row ac-browse-vehicle-row">
                    <div class="col ac-left">{{proposal.buyer.phoneNo}}</div>
                    <div class="col ac-right">{{proposal.buyer.email}}</div>
                </div>
            </a>

        </div>

    </ion-content>
</ion-view>
